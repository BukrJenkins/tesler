
Пивоты с возможностью группировки данных используют для настройки объект, хранящийся с колонке <b>PIVOT_FIELDS</b>.
На этом объекте есть поля <b>rows</b> и <b>cols</b>, последовательность и вложенность которых используется для построения графика.
<br><br>
При настройке графика необходимо завести в объекте <b>series</b> поле <b>pivotRows</b>, а в объекте <b>xAxis</b> поле <b>pivotCols</b>. Оба этих поля содержат массивы объектов, которыми необходимо воспроизвести ту часть структуры описания полей и колонок из <b>PIVOT_FIELDS</b>, которая требуется для отображения.
<br>
Например, если в <b>PIVOT_FIELDS</b> имеется следующее описание <b>(часть полей пропущена, оставлены только необходимые для графика)</b>:
<pre><b>
"rows": [
    {
        "id": "gmark",
        "children": [
            {"id": "mark"}
        ]
    }
],
"cols": [
    {"id": "report_date"},
    {"id": "forAllDate"}
]
</b></pre>
<br>
и необходимо вывести показатели <b>mark</b> только для колонок <b>report_date</b> то для графика необходимо задать следующую структуру, сохраняя порядок наследования:
<pre><b>
"xAxis": {
    "pivotCols": [
        {"id": "report_date"}
    ]
},
"series": {
    "pivotRows": [
        {
            "id": "gmark",
            "children": [
                {"id": "mark"}
            ]
        }
    ]
}
</b></pre>
<br>
Чтобы вывести только значения группы <b>gmark</b> как самостоятельного показателя для колонок <b>report_date</b> и <b>forAllDate</b>:
<pre><b>
"xAxis": {
    "pivotCols": [
        {"id": "report_date"},
        {"id": "forAllDate"},
    ]
},
"series": {
    "pivotRows": [
        {"id": "gmark"}
    ]
}
</b></pre>
<br>
Каждый объект массива представляет собой дерево, состоящее из связанных узлов, у которого есть листья (узлы без потомков). Именно строки и колонки, являющиеся в структуре листом, в итоге отображаются на графике.
<br>
Поля доступные для этих объектов:
<br>
<b>- id:</b> Обязательное поле. Строка, содержащая идентификатор объекта из соответствующих полей rows и cols из колонки PIVOT_FIELDS.
<br>
<b>- children:</b> Массив потомков данного объекта
<br>
<b>- paramList:</b> Переменная для возможности фильтрации динамических колонок и строк.
<br>
Принимает следующие наборы параметров:
<br>
Положительное число "n" - в выборке останется только n первых объектов.
<br>
Отрицательное число "n" - в выборке останутся все объекты, кроме n последних.
<br>
Массив строк - в выборке останутся только те объекты, имена которых перечисленны в массиве.
<br>
<b>- getOne:</b> Число, определяющее, какой по счету объект будет взят с начала. Если число отрицательное, то отсчет идет с конца списка полученных объектов.
<br>
<b>- stack: true</b> Указывает, что этот узел используется для группировки всех его потомков.
<br>
<b>- fullPathName: true</b> (Только для колонок) При указании на узле, все листья этого узла и листья его потомков будут включать в своё название имена родителей.
<br>
<b>- createName: true</b> (Только для колонок) Используется для ручного формирования имени колонки. Например, если необходимо, чтобы вместо своего имени, у колонки было имя родителя.
<br>
Если поле указано хотя бы в одном из родителей листа или на самом листе, то вместо своего имени, лист берет имя, составленное из имен тех узлов, где задано это поле.
<br>
<b>- nameDelimiter:</b> Строка, содержащая разделитель, который будет ставиться между частями, из которых формируется название потомка, например при использовании опций fullPathName и createName. Если поле не указано, то используется пробел.
<br>
<br>
Для <b>строк</b> составное название автоматически сохраняется в отдельную переменную, не затрагивая название листа и использует параметр nameDelimiter при формировании названия.
В строках для ручного форматирования эта переменная доступна через <b>{userOptions.fullPathName}</b>.
Например, для отображения составного названия в легенде, в мете графика необходимо указать:<pre><b>
"legend": {
    "labelFormat": "{userOptions.fullPathName}"
}
</b></pre>
<br>
Для того, чтобы работала группировка на графиках, необходимо передать соответствующий параметр в настройки графика.
<pre><b>
"plotOptions": {
    "column": {
        "stacking": "normal"
    }
},
</b></pre>
<br>
Если у существующей строки (группы) для графика объявлены потомки из динамических строк (показатели), но в итоге в данных эти потомки отсутствуют, то на график сама эта группа выводится как самостоятельный показатель.
